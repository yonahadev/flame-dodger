[gd_scene load_steps=3 format=3 uid="uid://byqot5j2cym8u"]

[ext_resource type="Texture2D" uid="uid://c2yqdgaaqjpxj" path="res://fireCharacter.png" id="1_dc4y0"]

[sub_resource type="GDScript" id="GDScript_ue3sh"]
script/source = "extends Sprite2D

var speed = 400
var direction = Vector2()
var mousePos = Vector2()

func _init():
	pass
	

func _process(delta):
	direction = Vector2()
	if Input.is_action_pressed(\"w\"):
		direction.y = -1
	if Input.is_action_pressed(\"a\"):
		direction.x = -1
	if Input.is_action_pressed(\"s\"):
		direction.y = 1
	if Input.is_action_pressed(\"d\"):
		direction.x = 1
	
	var viewportDimensions = get_viewport_rect().size
	var spriteDimensions = texture.get_size() * scale
	
	var lowerBound = Vector2()+spriteDimensions/2
	var upperBound = viewportDimensions-spriteDimensions/2
	
	if direction.x == 0 or direction.y == 0:
		var newPosition = position + direction * delta * speed
		position = newPosition.clamp(lowerBound,upperBound)
	else:
		var newPosition = position + direction * delta * speed / sqrt(2)
		position = newPosition.clamp(lowerBound,upperBound)
		
		
	mousePos = get_viewport().get_mouse_position()
	var mouseOffset = mousePos - position
	var angle = mouseOffset.angle()
	angle += PI/2
	rotation = angle
"

[node name="Sprite2D" type="Sprite2D"]
texture_filter = 1
position = Vector2(327, 214)
scale = Vector2(5, 5)
texture = ExtResource("1_dc4y0")
script = SubResource("GDScript_ue3sh")
